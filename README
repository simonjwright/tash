This is TASH version 8.6-0, intended for use with Tcl/Tk versions 8.4
through 8.6.


Thick Binding
=============

The 'thick binding' (packages Tash.*) depends on several symbols that
are hidden in Tcl later than 8.4 if compiled with GCC later than
4.0. For this reason, the thick binding is, by default, not built if
setup.tcl finds that Tcl is later than 8.4.

In order to use the thick binding with Tcl later than 8.4 and GCC
later than 4.0, you need to build Tcl and Tk from source and edit the
following entry from the unix/Makefiles:

AC_FLAGS   = ... lots of flags ... and:
   -DMODULE_SCOPE=extern\ __attribute__\(\(__visibility__\(\"hidden\"\)\)\)
The part
   -DMODULE_SCOPE=extern\ __attribute__\(\(__visibility__\(\"hidden\"\)\)\)
should be removed from the AC_FLAGS of both Tcl and Tk.

Then do "make clean && make" and then "make install".

You can then edit the value of SUPPORTS_TASH in the setup.tcl dialog
and build TASH.

We would like to remove the dependency on Tcl private symbols in a
future version of TASH. However, we suspect that the actual use of
these facilities is limited "in the field".


API changes since previous release
==================================

Changes in 20110925
-------------------

The ClientData generics in Tcl.Ada had comments stating that the size
of the ClientData formal type must be equal to the size of a C
pointer. These have been replaced by assertions that the size of
ClientData must not be greater than that of System.Address.

Changes in 20090611
-------------------

None.

Changes in 20090207
-------------------

* Updated the Tcl Ada API to native Tcl 8.[4-6]

* Removed function Tcl.Tcl_GetObjId as it is not part of native Tcl and it
  gave trouble on 64-bit systems.

* Many of the record types in package Tcl were declared private although
  their native Tcl counterpart is public. Certain functions could not even
  be used without public access to the record type's contents. These types
  are now public.

* Removed type Tcl.Tcl_Obj_Ptr as it is not part of native Tcl, and its use
  was prone to introduce memory leaks.


Other changes since previous release
====================================

Changes in 20110925
-------------------

The top-level makefile now supports an 'install' target which on
GNAT-based systems other than Debian installs TASH alongside your
compiler (so you don't need to set ADA_PROJECT_PATH).

The setup.tcl script recognises gnatgcc, if present, as the compiler
to use for the C compilations required to build the library.

The setup.tcl script supports the flag "--nogui", meaning "perform the
setup immediately".

The GPR files have been improved; the result is that the Tcl and Tk
libraries will be linked automatically.

Changes in 20090611
-------------------

No longer requires gprbuild.

Changes in 20090207
-------------------

None.